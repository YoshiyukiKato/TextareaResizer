<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
</head>
<body>
<textarea id="ta"></textarea>
<div id="preview"></div>
<script src="./bower_components/jquery/dist/jquery.min.js"></script>
<script>
$(function(){
    $("#ta").height(30)
    .css("lineHeight","20px")//init
    .on("input",function(evt){
        if(evt.target.scrollHeight > evt.target.offsetHeight){   
        	$(evt.target).height(evt.target.scrollHeight);
    	}else{          
        	var lineHeight = Number($(evt.target).css("lineHeight").split("px")[0]);
            while (true){
                $(evt.target).height($(evt.target).height() - lineHeight); 
                if(evt.target.scrollHeight > evt.target.offsetHeight){
                	$(evt.target).height(evt.target.scrollHeight);
                    $autoPreview($(evt.target).val(),"#preview");
                	break;
            	}
        	}
    	}
	});

    function $autoPreview(text,previewElmSelector){
        $(previewElmSelector).html(text.replace(/\r\n|\r|\n/g, '<br>'));
    }
});

</script>
</body>
</html>